@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * Live Chat Application Theme
   * Custom color system based on Figma design
   * Using HSL values for Tailwind compatibility
   */
  :root {
    /* Main background - light green/beige from design */
    --background: 67 17% 94%; /* #EFF0EB */
    --foreground: 0 0% 21%; /* #363636 */

    /* Panel/card backgrounds */
    --card: 60 11% 98%; /* #FBFBF9 */
    --card-foreground: 0 0% 21%; /* #363636 */

    /* Popover styling */
    --popover: 60 11% 98%; /* #FBFBF9 */
    --popover-foreground: 0 0% 21%; /* #363636 */

    /* Primary - black for chat bubbles */
    --primary: 0 0% 0%; /* #000000 */
    --primary-foreground: 0 0% 100%; /* #FFFFFF */

    /* Secondary - light button background */
    --secondary: 60 6% 97%; /* #F8F8F7 */
    --secondary-foreground: 0 0% 21%; /* #363636 */

    /* Muted - avatar backgrounds */
    --muted: 0 0% 85%; /* #D9D9D9 */
    --muted-foreground: 0 0% 68%; /* #ACACAC */

    /* Accent - conversation item backgrounds */
    --accent: 0 0% 0% / 0.04; /* rgba(0,0,0,0.04) */
    --accent-foreground: 0 0% 0%; /* #000000 */

    /* Success - online indicator */
    --success: 158 65% 44%; /* #2EBA85 */
    --success-foreground: 0 0% 100%;

    /* Destructive colors */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    /* Borders */
    --border: 0 0% 94%; /* #F1F1F1 */
    --input: 0 0% 94%; /* #F1F1F1 */
    --ring: 0 0% 21%; /* #363636 */

    /* Custom chat colors */
    --chat-bubble-user: 0 0% 0%; /* #000000 */
    --chat-bubble-support: 0 0% 0% / 0.03; /* rgba(0,0,0,0.03) */
    --chat-placeholder: 0 0% 61%; /* #9B9B9B */
    --chat-timestamp: 0 0% 68%; /* #ACACAC */
    --chat-separator: 0 0% 96%; /* #F4F4F4 */
    --chat-name-muted: 25 2% 37%; /* #5A5959 */

    /* Border radius tokens */
    --radius: 0.5rem;
    --radius-lg: 2rem; /* 33px panels */
    --radius-xl: 1.5rem; /* 25px conversation items */
    --radius-2xl: 3rem; /* 49px chat widget */

    /* Sidebar (keeping existing) */
    --sidebar-background: 60 11% 98%;
    --sidebar-foreground: 0 0% 21%;
    --sidebar-primary: 0 0% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 60 6% 97%;
    --sidebar-accent-foreground: 0 0% 10%;
    --sidebar-border: 0 0% 94%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Preview Messages Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOutDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(8px);
  }
}

.preview-message-enter {
  animation: fadeInUp 0.3s ease-out;
}

.preview-message-exit {
  animation: fadeOutDown 0.3s ease-out;
}

/* Hide scrollbars but keep functionality */
/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 0px;
  height: 0px;
  background: transparent;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: transparent;
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Firefox */
* {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

/* Ensure overflow is still functional */
.overflow-y-auto,
.overflow-x-auto,
.overflow-auto {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.overflow-y-auto::-webkit-scrollbar,
.overflow-x-auto::-webkit-scrollbar,
.overflow-auto::-webkit-scrollbar {
  display: none;
}

/* Fix horizontal overflow issues */
.max-w-full {
  max-width: 100% !important;
}

.w-full {
  width: 100% !important;
}

/* Prevent horizontal scrolling on main containers */
html, body {
  overflow-x: hidden;
}

/* Ensure chat containers don't cause horizontal overflow */
.chat-container {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Message balloon fade animations */
@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.message-balloon-enter {
  animation: messageSlideIn 0.3s ease-out;
}

.message-balloon {
  animation: messageSlideIn 0.3s ease-out;
}
